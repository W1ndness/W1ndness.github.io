<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css" integrity="sha256-no0c5ccDODBwp+9hSmV5VvPpKwHCpbVzXHexIkupM6U=" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js" integrity="sha256-a5YRB27CcBwBFcT5EF/f3E4vzIqyHrSR878nseNYw64=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"leolang.top","root":"/","images":"/images","scheme":"Gemini","version":"8.7.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"changyan","storage":true,"lazyload":false,"nav":null,"activeClass":"changyan"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="前言 本文将介绍有关 Python 的 网页解析库 Beautiful Soup 对于 DOM 结构上的操作的有关内容。">
<meta property="og:type" content="article">
<meta property="og:title" content="Beautiful Soup 学习笔记（一）">
<meta property="og:url" content="https://leolang.top/2021/11/29/Beautiful%20Soup%20%E9%81%8D%E5%8E%86%E6%96%87%E6%A1%A3%E6%A0%91/index.html">
<meta property="og:site_name" content="W1ndness的技术栈">
<meta property="og:description" content="前言 本文将介绍有关 Python 的 网页解析库 Beautiful Soup 对于 DOM 结构上的操作的有关内容。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.w3school.com.cn/i/ct_htmltree.gif">
<meta property="article:published_time" content="2021-11-28T16:00:00.000Z">
<meta property="article:modified_time" content="2021-12-01T14:52:50.000Z">
<meta property="article:author" content="LeoLang">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Beautiful Soup">
<meta property="article:tag" content="HTML">
<meta property="article:tag" content="DOM">
<meta property="article:tag" content="Front-end">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.w3school.com.cn/i/ct_htmltree.gif">


<link rel="canonical" href="https://leolang.top/2021/11/29/Beautiful%20Soup%20%E9%81%8D%E5%8E%86%E6%96%87%E6%A1%A3%E6%A0%91/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://leolang.top/2021/11/29/Beautiful%20Soup%20%E9%81%8D%E5%8E%86%E6%96%87%E6%A1%A3%E6%A0%91/","path":"2021/11/29/Beautiful Soup 遍历文档树/","title":"Beautiful Soup 学习笔记（一）"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Beautiful Soup 学习笔记（一） | W1ndness的技术栈</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="W1ndness的技术栈" type="application/rss+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">W1ndness的技术栈</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Based on Hexo-NexT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">65</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">16</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">43</span></a></li>
        <li class="menu-item menu-item-schedule"><a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">Beautiful Soup 与文档树</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#0-%E4%BD%BF%E7%94%A8%E5%BA%93%E5%92%8C%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-text">0 使用库和参考资料</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%85%B3%E4%BA%8E-dom"><span class="nav-text">1 关于 DOM</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E4%BB%80%E4%B9%88%E6%98%AF-dom"><span class="nav-text">1.1 什么是 DOM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E4%BB%80%E4%B9%88%E6%98%AF-html-dom"><span class="nav-text">1.2 什么是 HTML DOM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-dom-%E6%96%87%E6%A1%A3"><span class="nav-text">1.3 DOM 文档</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-bs4-%E9%81%8D%E5%8E%86%E6%96%87%E6%A1%A3%E6%A0%91"><span class="nav-text">2 bs4 遍历文档树</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E5%AD%90%E8%8A%82%E7%82%B9"><span class="nav-text">2.1 子节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-1-tag-%E7%9A%84%E5%90%8D%E5%AD%97"><span class="nav-text">2.1.1 Tag 的名字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-2-contents-%E5%92%8C-children"><span class="nav-text">2.1.2 .contents 和 .children</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-3-descendants"><span class="nav-text">2.1.3 .descendants</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-4-string"><span class="nav-text">2.1.4 .string</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-5-string-%E5%92%8C-stripped-strings"><span class="nav-text">2.1.5 .string 和 .stripped_strings</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E7%88%B6%E8%8A%82%E7%82%B9"><span class="nav-text">2.2 父节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-1-parent"><span class="nav-text">2.2.1 .parent</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-2-parents"><span class="nav-text">2.2.2 .parents</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9"><span class="nav-text">2.3 兄弟节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-1-next-sibling-%E5%92%8C-previous-sibling"><span class="nav-text">2.3.1 .next_sibling 和 .previous_sibling</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-2-next-siblings-%E5%92%8C-previous-siblings"><span class="nav-text">2.3.2 .next_siblings 和 .previous_siblings</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E5%9B%9E%E9%80%80%E5%92%8C%E5%89%8D%E8%BF%9B"><span class="nav-text">2.4 回退和前进</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#next-element-%E5%92%8C-previous-element"><span class="nav-text">.next_element 和 .previous_element</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#next-elements-%E5%92%8C-previous-elements"><span class="nav-text">.next_elements 和 .previous_elements</span></a></li></ol></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="LeoLang"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">LeoLang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">43</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/w1ndness" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;w1ndness" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/imbaleo@163.com" title="E-Mail → imbaleo@163.com"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



          </div>
        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/W1ndness" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://leolang.top/2021/11/29/Beautiful%20Soup%20%E9%81%8D%E5%8E%86%E6%96%87%E6%A1%A3%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="LeoLang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="W1ndness的技术栈">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Beautiful Soup 学习笔记（一）
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-11-29 00:00:00" itemprop="dateCreated datePublished" datetime="2021-11-29T00:00:00+08:00">2021-11-29</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-12-01 22:52:50" itemprop="dateModified" datetime="2021-12-01T22:52:50+08:00">2021-12-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0%E6%9D%82%E6%96%87/" itemprop="url" rel="index"><span itemprop="name">学习杂文</span></a>
        </span>
    </span>

  
    <span id="/2021/11/29/Beautiful%20Soup%20%E9%81%8D%E5%8E%86%E6%96%87%E6%A1%A3%E6%A0%91/" class="post-meta-item leancloud_visitors" data-flag-title="Beautiful Soup 学习笔记（一）" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2021/11/29/Beautiful%20Soup%20%E9%81%8D%E5%8E%86%E6%96%87%E6%A1%A3%E6%A0%91/#SOHUCS" itemprop="discussionUrl">
        <span id="changyan_count_unit" class="post-comments-count hc-comment-count" data-xid="2021/11/29/Beautiful Soup 遍历文档树/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>11k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>10 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1>前言</h1>
<p>本文将介绍有关 Python 的 网页解析库 Beautiful Soup 对于 DOM 结构上的操作的有关内容。</p>
<span id="more"></span> 
<h1>Beautiful Soup 与文档树</h1>
<h2 id="0-使用库和参考资料">0 使用库和参考资料</h2>
<p>Beautiful Soup v4.4.0</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> bs4</code></pre>
<p>Reference:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/#id18">Beautiful Soup 4.4.0 文档 — Beautiful Soup 4.2.0 中文 文档——遍历文档树</a></li>
<li><a target="_blank" rel="noopener" href="https://beautiful-soup-4.readthedocs.io/en/latest/#navigating-the-tree">Beautiful Soup Documentation — Beautiful Soup 4.4.0 documentation——Navigating the tree</a></li>
<li><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/js/js_htmldom.asp">W3school – Javascript HTML DOM</a></li>
</ul>
<p>本文修正了一些中文官方文档中翻译失当的地方。</p>
<h2 id="1-关于-dom">1 关于 DOM</h2>
<h3 id="1-1-什么是-dom">1.1 什么是 DOM</h3>
<p>当网页被加载时，浏览器会创建页面的文档对象模型，即 DOM，DOM 是 Document Object Model 的缩写。</p>
<p><strong>HTML DOM</strong> 模型被结构化为<strong>对象树</strong>：</p>
<p><img src="https://www.w3school.com.cn/i/ct_htmltree.gif" alt="DOM HTML 树"></p>
<p>通过这个对象模型，JavaScript 获得创建动态 HTML 的所有力量：</p>
<ul>
<li>JavaScript 能改变页面中的所有 HTML 元素</li>
<li>JavaScript 能改变页面中的所有 HTML 属性</li>
<li>JavaScript 能改变页面中的所有 CSS 样式</li>
<li>JavaScript 能删除已有的 HTML 元素和属性</li>
<li>JavaScript 能添加新的 HTML 元素和属性</li>
<li>JavaScript 能对页面中所有已有的 HTML 事件作出反应</li>
<li>JavaScript 能在页面中创建新的 HTML 事件</li>
</ul>
<p>DOM 是一项 W3C (World Wide Web Consortium) 标准。</p>
<p>DOM 定义了访问文档的标准：</p>
<blockquote>
<p>“W3C 文档对象模型（DOM）是中立于平台和语言的接口，它允许程序和脚本动态地访问、更新文档的内容、结构和样式。”</p>
</blockquote>
<p>W3C DOM 标准被分为 3 个不同的部分：</p>
<ul>
<li>Core DOM - 所有文档类型的标准模型</li>
<li>XML DOM - XML 文档的标准模型</li>
<li>HTML DOM - HTML 文档的标准模型</li>
</ul>
<h3 id="1-2-什么是-html-dom">1.2 什么是 HTML DOM</h3>
<p>HTML DOM 是 HTML 的标准<strong>对象</strong>模型和<strong>编程接口</strong>。它定义了：</p>
<ul>
<li>作为<strong>对象</strong>的 HTML 元素</li>
<li>所有 HTML 元素的<strong>属性</strong></li>
<li>访问所有 HTML 元素的<strong>方法</strong></li>
<li>所有 HTML 元素的<strong>事件</strong></li>
</ul>
<p><strong>换言之：HTML DOM 是关于如何获取、更改、添加或删除 HTML 元素的标准</strong>。</p>
<h3 id="1-3-dom-文档">1.3 DOM 文档</h3>
<p><strong>HTML DOM 文档对象是网页中所有其他对象的拥有者</strong></p>
<p><strong>HTML Document 对象</strong></p>
<p>文档对象代表您的网页。</p>
<p>如果您希望访问 HTML 页面中的任何元素，那么您总是从访问 document 对象开始。</p>
<p>下面是一些如何使用 document 对象来访问和操作 HTML 的实例。</p>
<h2 id="2-bs4-遍历文档树">2 bs4 遍历文档树</h2>
<p>有这样一段 HTML 代码：</p>
<pre class="language-HTML" data-language="HTML"><code class="language-HTML">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&#39;s story&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;
    &lt;body&gt;
&lt;p class&#x3D;&quot;title&quot;&gt;&lt;b&gt;The Dormouse&#39;s story&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;

&lt;p class&#x3D;&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;example.com&#x2F;elsie&quot; class&#x3D;&quot;sister&quot; id&#x3D;&quot;link1&quot;&gt;Elsie&lt;&#x2F;a&gt;,
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;example.com&#x2F;lacie&quot; class&#x3D;&quot;sister&quot; id&#x3D;&quot;link2&quot;&gt;Lacie&lt;&#x2F;a&gt; and
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;example.com&#x2F;tillie&quot; class&#x3D;&quot;sister&quot; id&#x3D;&quot;link3&quot;&gt;Tillie&lt;&#x2F;a&gt;;
and they lived at the bottom of a well.&lt;&#x2F;p&gt;

&lt;p class&#x3D;&quot;story&quot;&gt;...&lt;&#x2F;p&gt;</code></pre>
<p>将其输入 Python 中，同时使用 bs4 对其解析：</p>
<pre class="language-python" data-language="python"><code class="language-python">html_doc <span class="token operator">=</span> <span class="token triple-quoted-string string">"""
&lt;html>&lt;head>&lt;title>The Dormouse's story&lt;/title>&lt;/head>
    &lt;body>
&lt;p class="title">&lt;b>The Dormouse's story&lt;/b>&lt;/p>

&lt;p class="story">Once upon a time there were three little sisters; and their names were
&lt;a href="http://example.com/elsie" class="sister" id="link1">Elsie&lt;/a>,
&lt;a href="http://example.com/lacie" class="sister" id="link2">Lacie&lt;/a> and
&lt;a href="http://example.com/tillie" class="sister" id="link3">Tillie&lt;/a>;
and they lived at the bottom of a well.&lt;/p>

&lt;p class="story">...&lt;/p>
"""</span>

<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html_doc<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span></code></pre>
<p>通过这段例子来演示怎样从文档的一段内容找到另一段内容。</p>
<p>使用 <code>prettify()</code> 方法格式化后得到：</p>
<pre class="language-HTML" data-language="HTML"><code class="language-HTML">&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;
   The Dormouse&#39;s story
  &lt;&#x2F;title&gt;
 &lt;&#x2F;head&gt;
 &lt;body&gt;
  &lt;p class&#x3D;&quot;title&quot;&gt;
   &lt;b&gt;
    The Dormouse&#39;s story
   &lt;&#x2F;b&gt;
  &lt;&#x2F;p&gt;
  &lt;p class&#x3D;&quot;story&quot;&gt;
   Once upon a time there were three little sisters; and their names were
   &lt;a class&#x3D;&quot;sister&quot; href&#x3D;&quot;http:&#x2F;&#x2F;example.com&#x2F;elsie&quot; id&#x3D;&quot;link1&quot;&gt;
    Elsie
   &lt;&#x2F;a&gt;
   ,
   &lt;a class&#x3D;&quot;sister&quot; href&#x3D;&quot;http:&#x2F;&#x2F;example.com&#x2F;lacie&quot; id&#x3D;&quot;link2&quot;&gt;
    Lacie
   &lt;&#x2F;a&gt;
   and
   &lt;a class&#x3D;&quot;sister&quot; href&#x3D;&quot;http:&#x2F;&#x2F;example.com&#x2F;tillie&quot; id&#x3D;&quot;link3&quot;&gt;
    Tillie
   &lt;&#x2F;a&gt;
   ;
            and they lived at the bottom of a well.
  &lt;&#x2F;p&gt;
  &lt;p class&#x3D;&quot;story&quot;&gt;
   ...
  &lt;&#x2F;p&gt;
 &lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;</code></pre>
<h3 id="2-1-子节点">2.1 子节点</h3>
<p>一个 Tag 可能包含多个字符串或其它的 Tag ，这些都是这个 Tag 的子节点。Beautiful Soup 提供了许多操作和遍历子节点的属性。</p>
<p>注意: Beautiful Soup中字符串节点不支持这些属性，因为字符串没有子节点。</p>
<h4 id="2-1-1-tag-的名字">2.1.1 Tag 的名字</h4>
<p>操作文档树最简单的方式就是告诉它你想获取的 tag 的 name 。如果想获取 <code>&lt;head&gt;</code> 标签，只要用 <code>soup.head()</code> ：</p>
<pre class="language-python" data-language="python"><code class="language-python">soup<span class="token punctuation">.</span>head
<span class="token comment"># &lt;head>&lt;title>The Dormouse's story&lt;/title>&lt;/head></span>

soup<span class="token punctuation">.</span>title
<span class="token comment"># &lt;title>The Dormouse's story&lt;/title></span></code></pre>
<p>这是个获取 tag 的小窍门，可以在文档树的 tag 中多次调用这个方法.下面的代码可以获取 <code>&lt;body&gt;</code> 标签中的第一个 <code>&lt;b&gt;</code> 标签：</p>
<pre class="language-python" data-language="python"><code class="language-python">soup<span class="token punctuation">.</span>body<span class="token punctuation">.</span>b
<span class="token comment"># &lt;b>The Dormouse's story&lt;/b></span></code></pre>
<p>通过点取属性的方式只能获得当前名字的第一个tag：</p>
<pre class="language-python" data-language="python"><code class="language-python">soup<span class="token punctuation">.</span>a
<span class="token comment"># &lt;a class="sister" href="http://example.com/elsie" id="link1">Elsie&lt;/a></span></code></pre>
<p>如果想要得到所有的 <code>&lt;a&gt;</code> 标签,或是通过名字得到比一个 tag 更多的内容的时候,就需要用到搜索文档树中描述的方法,比如：<code>find_all()</code></p>
<pre class="language-python" data-language="python"><code class="language-python">soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token comment"># [&lt;a class="sister" href="http://example.com/elsie" id="link1">Elsie&lt;/a>,</span>
<span class="token comment">#  &lt;a class="sister" href="http://example.com/lacie" id="link2">Lacie&lt;/a>,</span>
<span class="token comment">#  &lt;a class="sister" href="http://example.com/tillie" id="link3">Tillie&lt;/a>]</span></code></pre>
<h4 id="2-1-2-contents-和-children">2.1.2 .contents 和 .children</h4>
<p>tag 的<code>.contents</code> 属性可以将 tag 的子结点以列表的方式输出：</p>
<pre class="language-python" data-language="python"><code class="language-python">head_tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>head
head_tag
<span class="token comment"># &lt;head>&lt;title>The Dormouse's story&lt;/title>&lt;/head></span>

head_tag<span class="token punctuation">.</span>contents
<span class="token comment"># [&lt;title>The Dormouse's story&lt;/title>]</span>

title_tag <span class="token operator">=</span> head_tag<span class="token punctuation">.</span>contents<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
title_tag
<span class="token comment"># &lt;title>The Dormouse's story&lt;/title></span>
title_tag<span class="token punctuation">.</span>contents
<span class="token comment"># [u'The Dormouse's story']</span></code></pre>
<p><code>BeautifulSoup</code> 对象本身一定会包含子节点，也就是说 <code>&lt;html&gt;</code> 标签也是 <code>BeautifulSoup</code> 对象的子节点：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token builtin">len</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>contents<span class="token punctuation">)</span>
<span class="token comment"># 1</span>
soup<span class="token punctuation">.</span>contents<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name
<span class="token comment"># u'html'</span></code></pre>
<p>字符串没有 <code>.contents</code> 属性，因为字符串没有子节点：</p>
<pre class="language-python" data-language="python"><code class="language-python">text <span class="token operator">=</span> title_tag<span class="token punctuation">.</span>contents<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
text<span class="token punctuation">.</span>contents
<span class="token comment"># AttributeError: 'NavigableString' object has no attribute 'contents'</span></code></pre>
<p>通过 tag 的 <code>.children</code> 生成器，可以对 tag 的子节点进行循环：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> child <span class="token keyword">in</span> title_tag<span class="token punctuation">.</span>children<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
    <span class="token comment"># The Dormouse's story</span></code></pre>
<h4 id="2-1-3-descendants">2.1.3 .descendants</h4>
<p><code>.contents</code> 和 <code>.children</code> 属性仅包含 tag 的直接子节点。例如，<code>&lt;head&gt;</code> 标签只有一个直接子节点 <code>&lt;title&gt;</code></p>
<pre class="language-python" data-language="python"><code class="language-python">head_tag<span class="token punctuation">.</span>contents
<span class="token comment"># [&lt;title>The Dormouse's story&lt;/title>]</span></code></pre>
<p>但是 <code>&lt;title&gt;</code> 标签也包含一个子节点：字符串 “The Dormouse’s story”，这种情况下字符串 “The Dormouse’s story”也属于 <code>&lt;head&gt;</code> 标签的子孙节点。<code>.descendants</code> 属性可以对所有 tag 的子孙节点进行递归循环：</p>
<p>注：此处采用的是先序遍历（Preorder Traverse）</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> child <span class="token keyword">in</span> head_tag<span class="token punctuation">.</span>descendants<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
    <span class="token comment"># &lt;title>The Dormouse's story&lt;/title></span>
    <span class="token comment"># The Dormouse's story</span></code></pre>
<p>上面的例子中，<code>&lt;head&gt;</code> 标签只有一个子节点，但是有2个子孙节点：<code>&lt;head&gt;</code> 节点和 <code>&lt;head&gt;</code> 的子节点， <code>BeautifulSoup</code> 有一个直接子节点( <code>&lt;html&gt;</code> 节点)，却有很多子孙节点：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 1</span>
<span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>descendants<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 25</span></code></pre>
<h4 id="2-1-4-string">2.1.4 .string</h4>
<p>如果 tag 只有一个 <code>NavigableString</code> 类型子节点，那么这个 tag 可以使用 <code>.string</code> 得到子节点：</p>
<pre class="language-python" data-language="python"><code class="language-python">title_tag<span class="token punctuation">.</span>string
<span class="token comment"># u'The Dormouse's story'</span></code></pre>
<p>如果一个 tag 仅有一个子节点，那么这个 tag 也可以使用 <code>.string</code> 方法，输出结果与当前唯一子节点的 <code>.string</code> 结果相同：</p>
<pre class="language-python" data-language="python"><code class="language-python">head_tag<span class="token punctuation">.</span>contents
<span class="token comment"># [&lt;title>The Dormouse's story&lt;/title>]</span>

head_tag<span class="token punctuation">.</span>string
<span class="token comment"># u'The Dormouse's story'</span></code></pre>
<p>如果 tag 包含了多个子节点，tag 就无法确定 <code>.string</code> 方法应该调用哪个子节点的内容，<code>.string</code> 的输出结果是 <code>None</code> ：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>html<span class="token punctuation">.</span>string<span class="token punctuation">)</span>
<span class="token comment"># None</span></code></pre>
<h4 id="2-1-5-string-和-stripped-strings">2.1.5 .string 和 .stripped_strings</h4>
<p>如果 tag 中 包含多个字符串，可以使用 <code>.strings</code> 来循环获取：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> string <span class="token keyword">in</span> soup<span class="token punctuation">.</span>strings<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># u"The Dormouse's story"</span>
    <span class="token comment"># u'\n\n'</span>
    <span class="token comment"># u"The Dormouse's story"</span>
    <span class="token comment"># u'\n\n'</span>
    <span class="token comment"># u'Once upon a time there were three little sisters; and their names were\n'</span>
    <span class="token comment"># u'Elsie'</span>
    <span class="token comment"># u',\n'</span>
    <span class="token comment"># u'Lacie'</span>
    <span class="token comment"># u' and\n'</span>
    <span class="token comment"># u'Tillie'</span>
    <span class="token comment"># u';\nand they lived at the bottom of a well.'</span>
    <span class="token comment"># u'\n\n'</span>
    <span class="token comment"># u'...'</span>
    <span class="token comment"># u'\n'</span></code></pre>
<p>输出的字符串中可能包含了很多空格或空行，使用 <code>.stripped_strings</code> 可以去除多余空白内容：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> string <span class="token keyword">in</span> soup<span class="token punctuation">.</span>stripped_strings<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># u"The Dormouse's story"</span>
    <span class="token comment"># u"The Dormouse's story"</span>
    <span class="token comment"># u'Once upon a time there were three little sisters; and their names were'</span>
    <span class="token comment"># u'Elsie'</span>
    <span class="token comment"># u','</span>
    <span class="token comment"># u'Lacie'</span>
    <span class="token comment"># u'and'</span>
    <span class="token comment"># u'Tillie'</span>
    <span class="token comment"># u';\nand they lived at the bottom of a well.'</span>
    <span class="token comment"># u'...'</span></code></pre>
<p>全部是空格的行会被忽略掉，段首和段末的空白会被删除。</p>
<h3 id="2-2-父节点">2.2 父节点</h3>
<p>继续分析文档树，每个 tag 或字符串都有父节点：被包含在某个 tag 中</p>
<h4 id="2-2-1-parent">2.2.1 .parent</h4>
<p>通过 <code>.parent</code> 属性来获取某个元素的父节点。在例子“爱丽丝”的文档中，<code>&lt;head&gt;</code> 标签是 <code>&lt;title&gt;</code> 标签的父节点：</p>
<pre class="language-python" data-language="python"><code class="language-python">title_tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>title
title_tag
<span class="token comment"># &lt;title>The Dormouse's story&lt;/title></span>
title_tag<span class="token punctuation">.</span>parent
<span class="token comment"># &lt;head>&lt;title>The Dormouse's story&lt;/title>&lt;/head></span></code></pre>
<p>文档 title 的字符串也有父节点：<code>&lt;title&gt;</code> 标签</p>
<pre class="language-python" data-language="python"><code class="language-python">title_tag<span class="token punctuation">.</span>string<span class="token punctuation">.</span>parent
<span class="token comment"># &lt;title>The Dormouse's story&lt;/title></span></code></pre>
<p>文档的顶层节点比如 <code>&lt;html&gt;</code> 的父节点是 <code>BeautifulSoup</code> 对象：</p>
<pre class="language-python" data-language="python"><code class="language-python">html_tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>html
<span class="token builtin">type</span><span class="token punctuation">(</span>html_tag<span class="token punctuation">.</span>parent<span class="token punctuation">)</span>
<span class="token comment"># &lt;class 'bs4.BeautifulSoup'></span></code></pre>
<p><code>BeautifulSoup</code> 对象的 <code>.parent</code> 是 <code>None</code> ：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>parent<span class="token punctuation">)</span>
<span class="token comment"># None</span></code></pre>
<h4 id="2-2-2-parents">2.2.2 .parents</h4>
<p>通过元素的 <code>.parents</code> 属性可以递归得到元素的所有父辈节点，下面的例子使用了 <code>.parents</code> 方法遍历了 <code>&lt;a&gt;</code> 标签到根节点的所有节点。</p>
<pre class="language-python" data-language="python"><code class="language-python">link <span class="token operator">=</span> soup<span class="token punctuation">.</span>a
link
<span class="token comment"># &lt;a class="sister" href="http://example.com/elsie" id="link1">Elsie&lt;/a></span>
<span class="token keyword">for</span> parent <span class="token keyword">in</span> link<span class="token punctuation">.</span>parents<span class="token punctuation">:</span>
    <span class="token keyword">if</span> parent <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token comment"># p</span>
<span class="token comment"># body</span>
<span class="token comment"># htm</span>
<span class="token comment"># [document]</span>
<span class="token comment"># None</span></code></pre>
<h3 id="2-3-兄弟节点">2.3 兄弟节点</h3>
<p>看一段简单的例子：</p>
<pre class="language-python" data-language="python"><code class="language-python">sibling_soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;a>&lt;b>text1&lt;/b>&lt;c>text2&lt;/c>&lt;/b>&lt;/a>"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sibling_soup<span class="token punctuation">.</span>prettify<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># &lt;html></span>
<span class="token comment">#  &lt;body></span>
<span class="token comment">#   &lt;a></span>
<span class="token comment">#    &lt;b></span>
<span class="token comment">#     text1</span>
<span class="token comment">#    &lt;/b></span>
<span class="token comment">#    &lt;c></span>
<span class="token comment">#     text2</span>
<span class="token comment">#    &lt;/c></span>
<span class="token comment">#   &lt;/a></span>
<span class="token comment">#  &lt;/body></span>
<span class="token comment"># &lt;/html></span></code></pre>
<p>因为 <code>&lt;b&gt;</code> 标签和 <code>&lt;c&gt;</code> 标签是同一层：他们是同一个元素的子节点，所以 <code>&lt;b&gt;</code> 和 <code>&lt;c&gt;</code> 可以被称为兄弟节点。一段文档以标准格式输出时，兄弟节点有相同的缩进级别。在代码中也可以使用这种关系。</p>
<h4 id="2-3-1-next-sibling-和-previous-sibling">2.3.1 .next_sibling 和 .previous_sibling</h4>
<p>在文档树中，使用 <code>.next_sibling</code> 和 <code>.previous_sibling</code> 属性来查询兄弟节点：</p>
<pre class="language-python" data-language="python"><code class="language-python">sibling_soup<span class="token punctuation">.</span>b<span class="token punctuation">.</span>next_sibling
<span class="token comment"># &lt;c>text2&lt;/c></span>

sibling_soup<span class="token punctuation">.</span>c<span class="token punctuation">.</span>previous_sibling
<span class="token comment"># &lt;b>text1&lt;/b></span></code></pre>
<p><code>&lt;b&gt;</code> 标签有 <code>.next_sibling</code> 属性，但是没有 <code>.previous_sibling</code> 属性，因为 <code>&lt;b&gt;</code> 标签在同级节点中是第一个。同理，<code>&lt;c&gt;</code> 标签有 <code>.previous_sibling</code> 属性，却没有 <code>.next_sibling</code> 属性：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>sibling_soup<span class="token punctuation">.</span>b<span class="token punctuation">.</span>previous_sibling<span class="token punctuation">)</span>
<span class="token comment"># None</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sibling_soup<span class="token punctuation">.</span>c<span class="token punctuation">.</span>next_sibling<span class="token punctuation">)</span>
<span class="token comment"># None</span></code></pre>
<p>例子中的字符串“text1”和“text2”不是兄弟节点,因为它们的父节点不同：</p>
<pre class="language-python" data-language="python"><code class="language-python">sibling_soup<span class="token punctuation">.</span>b<span class="token punctuation">.</span>string
<span class="token comment"># u'text1'</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>sibling_soup<span class="token punctuation">.</span>b<span class="token punctuation">.</span>string<span class="token punctuation">.</span>next_sibling<span class="token punctuation">)</span>
<span class="token comment"># None</span></code></pre>
<p>实际文档中的 tag 的 <code>.next_sibling</code> 和 <code>.previous_sibling</code> 属性通常是字符串或空白。</p>
<p>看看“爱丽丝”文档：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://example.com/elsie<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sister<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>link1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Elsie<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://example.com/lacie<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sister<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>link2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Lacie<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://example.com/tillie<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sister<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>link3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Tillie<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre>
<p>如果以为第一个 <code>&lt;a&gt;</code> 标签的 <code>.next_sibling</code> 结果是第二个 <code>&lt;a&gt;</code> 标签，那就错了，真实结果是第一个 <code>&lt;a&gt;</code> 标签和第二个 <code>&lt;a&gt;</code> 标签之间的顿号和换行符：</p>
<pre class="language-python" data-language="python"><code class="language-python">link <span class="token operator">=</span> soup<span class="token punctuation">.</span>a
link
<span class="token comment"># &lt;a class="sister" href="http://example.com/elsie" id="link1">Elsie&lt;/a></span>

link<span class="token punctuation">.</span>next_sibling
<span class="token comment"># u',\n'</span></code></pre>
<p>第二个 <code>&lt;a&gt;</code> 标签是顿号的 <code>.next_sibling</code> 属性：</p>
<pre class="language-python" data-language="python"><code class="language-python">link<span class="token punctuation">.</span>next_sibling<span class="token punctuation">.</span>next_sibling
<span class="token comment"># &lt;a class="sister" href="http://example.com/lacie" id="link2">Lacie&lt;/a></span></code></pre>
<h4 id="2-3-2-next-siblings-和-previous-siblings">2.3.2 .next_siblings 和 .previous_siblings</h4>
<p>通过 <code>.next_siblings</code> 和 <code>.previous_siblings</code> 属性可以对当前节点的兄弟节点迭代输出：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> sibling <span class="token keyword">in</span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>next_siblings<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>sibling<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># u',\n'</span>
    <span class="token comment"># &lt;a class="sister" href="http://example.com/lacie" id="link2">Lacie&lt;/a></span>
    <span class="token comment"># u' and\n'</span>
    <span class="token comment"># &lt;a class="sister" href="http://example.com/tillie" id="link3">Tillie&lt;/a></span>
    <span class="token comment"># u'; and they lived at the bottom of a well.'</span>
    <span class="token comment"># None</span>

<span class="token keyword">for</span> sibling <span class="token keyword">in</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token string">"link3"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>previous_siblings<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>sibling<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># ' and\n'</span>
    <span class="token comment"># &lt;a class="sister" href="http://example.com/lacie" id="link2">Lacie&lt;/a></span>
    <span class="token comment"># u',\n'</span>
    <span class="token comment"># &lt;a class="sister" href="http://example.com/elsie" id="link1">Elsie&lt;/a></span>
    <span class="token comment"># u'Once upon a time there were three little sisters; and their names were\n'</span>
    <span class="token comment"># None</span></code></pre>
<h3 id="2-4-回退和前进">2.4 回退和前进</h3>
<p>看一下“爱丽丝” 文档：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>The Dormouse's story<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>The Dormouse's story<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></code></pre>
<p>HTML 解析器把这段字符串转换成一连串的事件：“打开 <code>&lt;html&gt;</code> 标签”，”打开一个 <code>&lt;head&gt;</code> 标签”，”打开一个 <code>&lt;title&gt;</code> 标签”，”添加一段字符串”，”关闭 <code>&lt;title&gt;</code> 标签”，”打开 <code>&lt;p&gt;</code> 标签”，等等。Beautiful Soup 提供了重现解析器初始化过程的方法。</p>
<h4 id="next-element-和-previous-element">.next_element 和 .previous_element</h4>
<p><code>.next_element</code> 属性指向解析过程中下一个被解析的对象(字符串或tag)，结果可能与 <code>.next_sibling</code> 相同，但通常是不一样的。</p>
<p>这是“爱丽丝”文档中最后一个 <code>&lt;a&gt;</code> 标签,它的 <code>.next_sibling</code> 结果是一个字符串，当前的解析过程因为遇到了 <code>&lt;a&gt;</code> 标签而中断了：</p>
<pre class="language-python" data-language="python"><code class="language-python">last_a_tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token operator">=</span><span class="token string">"link3"</span><span class="token punctuation">)</span>
last_a_tag
<span class="token comment"># &lt;a class="sister" href="http://example.com/tillie" id="link3">Tillie&lt;/a></span>

last_a_tag<span class="token punctuation">.</span>next_sibling
<span class="token comment"># '; and they lived at the bottom of a well.'</span></code></pre>
<p>但这个 <code>&lt;a&gt;</code> 标签的 <code>.next_element</code> 属性结果是在 <code>&lt;a&gt;</code> 标签被解析之后的解析内容，不是 <code>&lt;a&gt;</code> 标签后的句子部分，应该是字符串”Tillie”：</p>
<pre class="language-python" data-language="python"><code class="language-python">last_a_tag<span class="token punctuation">.</span>next_element
<span class="token comment"># u'Tillie'</span></code></pre>
<p>这是因为在原始文档中，字符串“Tillie” 在分号前出现，解析器先进入 <code>&lt;a&gt;</code> 标签，然后是字符串“Tillie”，然后关闭 <code>&lt;/a&gt;</code> 标签，然后是分号和剩余部分。分号与 <code>&lt;a&gt;</code> 标签在同一层级，但是字符串“Tillie”会被先解析。</p>
<p><code>.previous_element</code> 属性刚好与 <code>.next_element</code> 相反,它指向当前被解析的对象的前一个解析对象：</p>
 <pre class="language-python" data-language="python"><code class="language-python">last_a_tag<span class="token punctuation">.</span>previous_element
<span class="token comment"># u' and\n'</span>
last_a_tag<span class="token punctuation">.</span>previous_element<span class="token punctuation">.</span>next_element
<span class="token comment"># &lt;a class="sister" href="http://example.com/tillie" id="link3">Tillie&lt;/a></span></code></pre>
<h4 id="next-elements-和-previous-elements">.next_elements 和 .previous_elements</h4>
<p>通过 <code>.next_elements</code> 和 <code>.previous_elements</code> 的迭代器就可以向前或向后访问文档的解析内容， 就好像文档正在被解析一样：</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> element <span class="token keyword">in</span> last_a_tag<span class="token punctuation">.</span>next_elements<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># u'Tillie'</span>
<span class="token comment"># u';\nand they lived at the bottom of a well.'</span>
<span class="token comment"># u'\n\n'</span>
<span class="token comment"># &lt;p class="story">...&lt;/p></span>
<span class="token comment"># u'...'</span>
<span class="token comment"># u'\n'</span>
<span class="token comment"># None</span></code></pre>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>LeoLang
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://leolang.top/2021/11/29/Beautiful%20Soup%20%E9%81%8D%E5%8E%86%E6%96%87%E6%A1%A3%E6%A0%91/" title="Beautiful Soup 学习笔记（一）">https://leolang.top/2021/11/29/Beautiful Soup 遍历文档树/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"><i class="fa fa-tag"></i> Python</a>
              <a href="/tags/Beautiful-Soup/" rel="tag"><i class="fa fa-tag"></i> Beautiful Soup</a>
              <a href="/tags/HTML/" rel="tag"><i class="fa fa-tag"></i> HTML</a>
              <a href="/tags/DOM/" rel="tag"><i class="fa fa-tag"></i> DOM</a>
              <a href="/tags/Front-end/" rel="tag"><i class="fa fa-tag"></i> Front-end</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/11/14/PaddlePaddle%20%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2%EF%BC%88%E4%BA%8C%EF%BC%89%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2%E5%88%9D%E6%8E%A2/" rel="prev" title="PaddlePaddle 图像分割（二）语义分割初探">
                  <i class="fa fa-chevron-left"></i> PaddlePaddle 图像分割（二）语义分割初探
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/01/10/%E7%AC%AC1%E7%AB%A0%20%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/" rel="next" title="数学建模（一）线性规划">
                  数学建模（一）线性规划 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="SOHUCS"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2021 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LeoLang</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">316k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">4:48</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>



  <script class="next-config" data-name="nprogress" type="application/json">{"enable":true,"spinner":true}</script>
  <script src="/js/third-party/nprogress.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"41UWIC7MMp6zIfeLwJ9NYyGs-gzGzoHsz","app_key":"ITEb4maRYOsE2d4OazXV9neM","server_url":"https://41uwic7m.lc-cn-n1-shared.com","security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="changyan" type="application/json">{"enable":true,"appid":"cyvB8TI3f","appkey":"73c618e7e6297e7a69f0c1377f03ffc4"}</script>
<script src="/js/third-party/comments/changyan.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModePath":"assets/","tagMode":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"positon":"right","width":150,"height":300},"mobile":false,"log":false,"pluginModelPath":"assets/"});</script></body>
</html>
